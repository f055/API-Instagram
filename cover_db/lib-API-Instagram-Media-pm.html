<!DOCTYPE html
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!--
This file was generated by Devel::Cover Version 1.15
Devel::Cover is copyright 2001-2012, Paul Johnson (paul@pjcj.net)
Devel::Cover is free. It is licensed under the same terms as Perl itself.
The latest version of Devel::Cover should be available from my homepage:
http://www.pjcj.net
-->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
    <meta http-equiv="Content-Language" content="en-us"></meta>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <link rel="stylesheet" type="text/css" href="cover.css"></link>
    <title>File Coverage: lib/API/Instagram/Media.pm</title>
</head>
<body>
<h1>File Coverage</h1>
<table>
<tr><td class="h" align="right">File:</td><td align="left">lib/API/Instagram/Media.pm</td></tr>
<tr><td class="h" align="right">Coverage:</td><td align="left" class="c2">94.3%</td></tr>
</table>
<div><br/></div>
<table>
<tr><th>line</th><th>stmt</th><th>bran</th><th>cond</th><th>sub</th><th>pod</th><th>time</th><th>code</th></tr>
<tr><td class="h">1</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">package API::Instagram::Media;</td></tr>
<tr><td class="h">2</td><td colspan="7"></td></tr><tr><td class="h">3</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s"># ABSTRACT: Instagram Media Object</td></tr>
<tr><td class="h">4</td><td colspan="7"></td></tr><tr><td class="h">5</td><td><div class="c3">35</div><div class="c3">35</div><div class="c3">35</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L5">35</a></div></td><td></td><td><div>126</div><div>33</div><div>134</div></td><td class="s">use Moo;</td></tr>
<tr><td class="h">6</td><td><div class="c3">35</div><div class="c3">35</div><div class="c3">35</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L6">35</a></div></td><td></td><td><div>15170</div><div>35673</div><div>28576</div></td><td class="s">use Time::Moment;</td></tr>
<tr><td class="h">7</td><td colspan="7"></td></tr><tr><td class="h">8</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">has id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; ( is =&gt; &#39;ro&#39;, required =&gt; 1 );</td></tr>
<tr><td class="h">9</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">has type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; ( is =&gt; &#39;lazy&#39; );</td></tr>
<tr><td class="h">10</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">has link&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; ( is =&gt; &#39;lazy&#39; );</td></tr>
<tr><td class="h">11</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">has filter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; ( is =&gt; &#39;lazy&#39; );</td></tr>
<tr><td class="h">12</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">has images&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; ( is =&gt; &#39;lazy&#39; );</td></tr>
<tr><td class="h">13</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">has videos&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; ( is =&gt; &#39;lazy&#39; );</td></tr>
<tr><td class="h">14</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">has user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; ( is =&gt; &#39;lazy&#39;, coerce =&gt; \&amp;_coerce_user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">15</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">has tags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; ( is =&gt; &#39;lazy&#39;, coerce =&gt; \&amp;_coerce_tags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">16</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">has location&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; ( is =&gt; &#39;lazy&#39;, coerce =&gt; \&amp;_coerce_location&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</td></tr>
<tr><td class="h">17</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">has users_in_photo =&gt; ( is =&gt; &#39;lazy&#39;, coerce =&gt; \&amp;_coerce_users_in_photo );</td></tr>
<tr><td class="h">18</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">has caption&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; ( is =&gt; &#39;lazy&#39;, coerce =&gt; sub { $_[0]-&gt;{text} if $_[0] and ref $_[0] eq &#39;HASH&#39; } );</td></tr>
<tr><td class="h">19</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">has created_time&nbsp;&nbsp;&nbsp;=&gt; ( is =&gt; &#39;lazy&#39;, coerce =&gt; sub { Time::Moment-&gt;from_epoch( $_[0] ) } );</td></tr>
<tr><td class="h">20</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">has _api&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; ( is =&gt; &#39;lazy&#39; );</td></tr>
<tr><td class="h">21</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">has _data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; ( is =&gt; &#39;rwp&#39;, lazy =&gt; 1, builder =&gt; 1, clearer =&gt; 1 );</td></tr>
<tr><td class="h">22</td><td colspan="7"></td></tr><tr><td class="h">23 - 109</td><td colspan="6"></td><td class="s"><pre>=head1 SYNOPSIS

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $media = $instagram-&gt;media(3);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf &quot;Caption: %s\n&quot;, $media-&gt;caption;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf &quot;Posted by %s (%d likes)\n\n&quot;, $media-&gt;user-&gt;username, $media-&gt;likes;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $location = $media-&gt;location;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf &quot;Media Location: %s (%f,%f)&quot;, $location-&gt;name, $location-&gt;latitude, $location-&gt;longitude;


=head1 DESCRIPTION

See L&lt;http://instagr.am/developer/endpoints/media/&gt;.

=attr id

Returns media id.

=attr type

Returns media type.

=attr user

Returns the L&lt;API::Instagram::User&gt; object of the user who posted the media.

=attr link

Returns media shortlink.

=attr filter

Returns media filter.

=attr tags

Returns a list L&lt;API::Instagram::Tag&gt; objects of media tags.

=attr location

Returns media L&lt;API::Instagram::Location&gt; object.

=attr images

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $thumbnail = $media-&gt;images-&gt;{thumbnail};
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf &quot;URL: %s (%d x %d)&quot; $thumbnail-&gt;{url}, $thumbnail-&gt;{width}, $thumbnail-&gt;{height};

Returns media images options and details.

=attr videos

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $standart = $media-&gt;videos-&gt;{standart_resolution};
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf &quot;URL: %s (%d x %d)&quot; $standart-&gt;{url}, $standart-&gt;{width}, $standart-&gt;{height};

Returns media videos options and details, when video type.

=attr users_in_photo

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for my $each ( @{ $media-&gt;users_in_photo } ) {

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= $each-&gt;{user};
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $position = $each-&gt;{position};

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf &quot;%s is at %f, %f\n&quot;, $user-&gt;username, $position-&gt;{x}, $position-&gt;{y};

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}

Returns a list of L&lt;API::Instagram::User&gt; objects of users tagged in the media with their coordinates.

=attr caption

Returns media caption text.

=method likes

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf &quot;Total Likes: %d\n&quot;, $media-&gt;likes; # Total likes when object was created

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf &quot;Total Likes: %d\n&quot;, $media-&gt;likes(1); # Up to date total likes

Returns media total likes.
If you set C&lt;1&gt; as parameter it will renew all media data and return an up-do-date total likes.

Note: C&lt;1&gt; as parameter also updates total comments, last likes and last comments.
=cut</pre></td></tr>
<tr><td class="h">110</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub likes {</td></tr>
<tr><td class="h">111</td><td><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L111">8</a></div></td><td><div class="c0">0</div></td><td><div>14</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">112</td><td><div class="c3">8</div></td><td><div class="c3" title="T/F"><a href="lib-API-Instagram-Media-pm--branch.html#L112">100</a></div></td><td></td><td></td><td></td><td><div>27</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_clear_data if shift;</td></tr>
<tr><td class="h">113</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td></td><td><div>1449</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_data-&gt;{likes}-&gt;{count}</td></tr>
<tr><td class="h">114</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">115</td><td colspan="7"></td></tr><tr><td class="h">116</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">=method comments</td></tr>
<tr><td class="h">117</td><td colspan="7"></td></tr><tr><td class="h">118</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf &quot;Total Comments: %d\n&quot;, $media-&gt;comments; # Total comments when object was created</td></tr>
<tr><td class="h">119</td><td colspan="7"></td></tr><tr><td class="h">120</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or</td></tr>
<tr><td class="h">121</td><td colspan="7"></td></tr><tr><td class="h">122</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf &quot;Total Comments: %d\n&quot;, $media-&gt;comments(1); # Up to date total comments</td></tr>
<tr><td class="h">123</td><td colspan="7"></td></tr><tr><td class="h">124</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">Returns media total comments.</td></tr>
<tr><td class="h">125</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">If you set C&lt;1&gt; as parameter it will renew all media data and return an up-do-date total comments.</td></tr>
<tr><td class="h">126</td><td colspan="7"></td></tr><tr><td class="h">127</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">Note: C&lt;1&gt; as parameter also updates total likes, last likes and last comments.</td></tr>
<tr><td class="h">128</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h">129</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub comments {</td></tr>
<tr><td class="h">130</td><td><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L130">8</a></div></td><td><div class="c0">0</div></td><td><div>12</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">131</td><td><div class="c3">8</div></td><td><div class="c3" title="T/F"><a href="lib-API-Instagram-Media-pm--branch.html#L131">100</a></div></td><td></td><td></td><td></td><td><div>125</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_clear_data if shift;</td></tr>
<tr><td class="h">132</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td></td><td><div>215</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_data-&gt;{comments}-&gt;{count}</td></tr>
<tr><td class="h">133</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">134</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">=method last_likes</td></tr>
<tr><td class="h">135</td><td colspan="7"></td></tr><tr><td class="h">136</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for my $user ( @{ $media-&gt;last_likes } ) {</td></tr>
<tr><td class="h">137</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say $user-&gt;username;</td></tr>
<tr><td class="h">138</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">139</td><td colspan="7"></td></tr><tr><td class="h">140</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">Returns a list of C&lt;API::Instagram::User&gt; of the last users who liked the media.</td></tr>
<tr><td class="h">141</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">If you set C&lt;1&gt; as parameter it will renew all media data and return an up-do-date list.</td></tr>
<tr><td class="h">142</td><td colspan="7"></td></tr><tr><td class="h">143</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">Note: C&lt;1&gt; as parameter also updates total likes, total comments and last comments.</td></tr>
<tr><td class="h">144</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h">145</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub last_likes {</td></tr>
<tr><td class="h">146</td><td><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L146">8</a></div></td><td><div class="c0">0</div></td><td><div>11</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">147</td><td><div class="c3">8</div></td><td><div class="c3" title="T/F"><a href="lib-API-Instagram-Media-pm--branch.html#L147">100</a></div></td><td></td><td></td><td></td><td><div>124</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_clear_data if shift;</td></tr>
<tr><td class="h">148</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td></td><td><div>218</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $api&nbsp;&nbsp;= $self-&gt;_api;</td></tr>
<tr><td class="h">149</td><td><div class="c3">8</div><div class="c3">8</div><div class="c3">8</div></td><td></td><td></td><td></td><td></td><td><div>35</div><div>44</div><div>177</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ map { $api-&gt;user($_) } @{ $self-&gt;_data-&gt;{likes}-&gt;{data} } ]</td></tr>
<tr><td class="h">150</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">151</td><td colspan="7"></td></tr><tr><td class="h">152</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">=method last_comments</td></tr>
<tr><td class="h">153</td><td colspan="7"></td></tr><tr><td class="h">154</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for my $comment ( @{ $media-&gt;last_comments } ) {</td></tr>
<tr><td class="h">155</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf &quot;%s: %s\n&quot;, $comment-&gt;from-&gt;username, $comment-&gt;text;</td></tr>
<tr><td class="h">156</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">157</td><td colspan="7"></td></tr><tr><td class="h">158</td><td colspan="7"></td></tr><tr><td class="h">159</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">Returns a list of C&lt;API::Instagram::Media::Comment&gt; of the last comments on the media.</td></tr>
<tr><td class="h">160</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">If you set C&lt;1&gt; as parameter it will renew all media data and return an up-do-date list.</td></tr>
<tr><td class="h">161</td><td colspan="7"></td></tr><tr><td class="h">162</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">Note: C&lt;1&gt; as parameter also updates total likes, total comments and last likes.</td></tr>
<tr><td class="h">163</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h">164</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub last_comments {</td></tr>
<tr><td class="h">165</td><td><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L165">8</a></div></td><td><div class="c0">0</div></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">166</td><td><div class="c3">8</div></td><td><div class="c3" title="T/F"><a href="lib-API-Instagram-Media-pm--branch.html#L166">100</a></div></td><td></td><td></td><td></td><td><div>122</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_clear_data if shift;</td></tr>
<tr><td class="h">167</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td></td><td><div>259</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $api&nbsp;&nbsp;= $self-&gt;_api;</td></tr>
<tr><td class="h">168</td><td><div class="c3">8</div><div class="c3">16</div><div class="c3">8</div></td><td></td><td></td><td></td><td></td><td><div>42</div><div>68</div><div>329</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ map { $api-&gt;comment($_) } @{ $self-&gt;_data-&gt;{comments}-&gt;{data} } ]</td></tr>
<tr><td class="h">169</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">170</td><td colspan="7"></td></tr><tr><td class="h">171</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">=attr created_time</td></tr>
<tr><td class="h">172</td><td colspan="7"></td></tr><tr><td class="h">173</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">Returns the media date in a L&lt;Time::Moment&gt; object.</td></tr>
<tr><td class="h">174</td><td colspan="7"></td></tr><tr><td class="h">175</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">=method get_likes</td></tr>
<tr><td class="h">176</td><td colspan="7"></td></tr><tr><td class="h">177</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @likers = $media-&gt;get_likes( count =&gt; 5 );</td></tr>
<tr><td class="h">178</td><td colspan="7"></td></tr><tr><td class="h">179</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">Returns a list of L&lt;API::Instagram::User&gt; objects of users who liked the media.</td></tr>
<tr><td class="h">180</td><td colspan="7"></td></tr><tr><td class="h">181</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">Accepts C&lt;count&gt;.</td></tr>
<tr><td class="h">182</td><td colspan="7"></td></tr><tr><td class="h">183</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h">184</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub get_likes {</td></tr>
<tr><td class="h">185</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L185">4</a></div></td><td><div class="c0">0</div></td><td><div>6</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">186</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td></td><td><div>7</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %opts = @_;</td></tr>
<tr><td class="h">187</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $url&nbsp;&nbsp;= &quot;/media/&quot; . $self-&gt;id . &quot;/likes&quot;;</td></tr>
<tr><td class="h">188</td><td><div class="c3">4</div></td><td></td><td></td><td></td><td></td><td><div>135</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $api&nbsp;&nbsp;= $self-&gt;_api;</td></tr>
<tr><td class="h">189</td><td><div class="c3">4</div><div class="c3">4</div></td><td></td><td></td><td></td><td></td><td><div>40</div><div>10</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ map { $api-&gt;user($_) } $api-&gt;_get_list( { %opts, url =&gt; $url } ) ]</td></tr>
<tr><td class="h">190</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">191</td><td colspan="7"></td></tr><tr><td class="h">192</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">=method get_comments</td></tr>
<tr><td class="h">193</td><td colspan="7"></td></tr><tr><td class="h">194</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my @comments = $media-&gt;get_comments( count =&gt; 5 );</td></tr>
<tr><td class="h">195</td><td colspan="7"></td></tr><tr><td class="h">196</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">Returns a list of L&lt;API::Instagram::Media::Comment&gt; objects of the media.</td></tr>
<tr><td class="h">197</td><td colspan="7"></td></tr><tr><td class="h">198</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">Accepts C&lt;count&gt;.</td></tr>
<tr><td class="h">199</td><td colspan="7"></td></tr><tr><td class="h">200</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">=cut</td></tr>
<tr><td class="h">201</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub get_comments {</td></tr>
<tr><td class="h">202</td><td><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L202">8</a></div></td><td><div class="c0">0</div></td><td><div>13</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">203</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td></td><td><div>15</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my %opts = @_;</td></tr>
<tr><td class="h">204</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td></td><td><div>32</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $url&nbsp;&nbsp;= &quot;/media/&quot; . $self-&gt;id . &quot;/comments&quot;;</td></tr>
<tr><td class="h">205</td><td><div class="c3">8</div></td><td></td><td></td><td></td><td></td><td><div>143</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $api&nbsp;&nbsp;= $self-&gt;_api;</td></tr>
<tr><td class="h">206</td><td><div class="c3">8</div><div class="c3">8</div></td><td></td><td></td><td></td><td></td><td><div>69</div><div>39</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ map { $api-&gt;comment($_) } $api-&gt;_get_list( { %opts, url =&gt; $url } ) ]</td></tr>
<tr><td class="h">207</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">208</td><td colspan="7"></td></tr><tr><td class="h">209</td><td colspan="7"></td></tr><tr><td class="h">210</td><td><div class="c3">12</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L210">12</a></div></td><td></td><td><div>2536</div></td><td class="s">sub _build__api&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ API::Instagram-&gt;instance&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">211</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L211">4</a></div></td><td></td><td><div>1974</div></td><td class="s">sub _build_user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ shift-&gt;_data-&gt;{user}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">212</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L212">4</a></div></td><td></td><td><div>1866</div></td><td class="s">sub _build_tags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ shift-&gt;_data-&gt;{tags}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">213</td><td><div class="c3">8</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L213">8</a></div></td><td></td><td><div>2271</div></td><td class="s">sub _build_location&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ shift-&gt;_data-&gt;{location}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">214</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L214">4</a></div></td><td></td><td><div>1631</div></td><td class="s">sub _build_users_in_photo { shift-&gt;_data-&gt;{users_in_photo} }</td></tr>
<tr><td class="h">215</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L215">4</a></div></td><td></td><td><div>1423</div></td><td class="s">sub _build_type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ shift-&gt;_data-&gt;{type}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">216</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L216">4</a></div></td><td></td><td><div>1282</div></td><td class="s">sub _build_link&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ shift-&gt;_data-&gt;{link}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">217</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L217">4</a></div></td><td></td><td><div>1322</div></td><td class="s">sub _build_filter&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ shift-&gt;_data-&gt;{filter}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">218</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L218">4</a></div></td><td></td><td><div>1348</div></td><td class="s">sub _build_images&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ shift-&gt;_data-&gt;{images}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">219</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L219">4</a></div></td><td></td><td><div>1296</div></td><td class="s">sub _build_videos&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ shift-&gt;_data-&gt;{videos}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">220</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L220">4</a></div></td><td></td><td><div>1613</div></td><td class="s">sub _build_caption&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ shift-&gt;_data-&gt;{caption }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">221</td><td><div class="c3">4</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L221">4</a></div></td><td></td><td><div>1802</div></td><td class="s">sub _build_created_time&nbsp;&nbsp;&nbsp;{ shift-&gt;_data-&gt;{created_time}&nbsp;&nbsp;&nbsp;}</td></tr>
<tr><td class="h">222</td><td colspan="7"></td></tr><tr><td class="h">223</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _build__data {</td></tr>
<tr><td class="h">224</td><td><div class="c3">24</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L224">24</a></div></td><td></td><td><div>1210</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $self = shift;</td></tr>
<tr><td class="h">225</td><td><div class="c3">24</div></td><td></td><td></td><td></td><td></td><td><div>62</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $url&nbsp;&nbsp;= sprintf &quot;media/%s&quot;, $self-&gt;id;</td></tr>
<tr><td class="h">226</td><td><div class="c3">24</div></td><td></td><td></td><td></td><td></td><td><div>458</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$self-&gt;_api-&gt;_request_data( $url );</td></tr>
<tr><td class="h">227</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">}</td></tr>
<tr><td class="h">228</td><td colspan="7"></td></tr><tr><td class="h">229</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">############################################################</td></tr>
<tr><td class="h">230</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s"># Attributes coercion that API::Instagram object reference #</td></tr>
<tr><td class="h">231</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">############################################################</td></tr>
<tr><td class="h">232</td><td><div class="c3">18</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L232">18</a></div></td><td></td><td><div>192</div></td><td class="s">sub _coerce_user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ API::Instagram-&gt;instance-&gt;user&nbsp;&nbsp;&nbsp;&nbsp;( $_[0] ) };</td></tr>
<tr><td class="h">233</td><td><div class="c3">18</div></td><td><div class="c3" title="T/F"><a href="lib-API-Instagram-Media-pm--branch.html#L233">100</a></div></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L233">18</a></div></td><td></td><td><div>466</div></td><td class="s">sub _coerce_location { API::Instagram-&gt;instance-&gt;location( $_[0] ) if $_[0] };</td></tr>
<tr><td class="h">234</td><td colspan="7"></td></tr><tr><td class="h">235</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _coerce_tags {</td></tr>
<tr><td class="h">236</td><td><div class="c3">18</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L236">18</a></div></td><td></td><td><div>168</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $data = $_[0];</td></tr>
<tr><td class="h">237</td><td><div class="c3">18</div></td><td><div class="c3" title="T/F"><a href="lib-API-Instagram-Media-pm--branch.html#L237">100</a></div></td><td></td><td></td><td></td><td><div>133</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return if ref $data ne &#39;ARRAY&#39;;</td></tr>
<tr><td class="h">238</td><td><div class="c3">14</div><div class="c3">4</div></td><td></td><td></td><td></td><td></td><td><div>270</div><div>9</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ map { API::Instagram-&gt;instance-&gt;tag($_) } @$data ]</td></tr>
<tr><td class="h">239</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">};</td></tr>
<tr><td class="h">240</td><td colspan="7"></td></tr><tr><td class="h">241</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">sub _coerce_users_in_photo {</td></tr>
<tr><td class="h">242</td><td><div class="c3">18</div></td><td></td><td></td><td><div class="c3"><a href="lib-API-Instagram-Media-pm--subroutine.html#L242">18</a></div></td><td></td><td><div>145</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;my $data = $_[0];</td></tr>
<tr><td class="h">243</td><td><div class="c3">18</div></td><td><div class="c3" title="T/F"><a href="lib-API-Instagram-Media-pm--branch.html#L243">100</a></div></td><td></td><td></td><td></td><td><div>60</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return if ref $data ne &#39;ARRAY&#39;;</td></tr>
<tr><td class="h">244</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[</td></tr>
<tr><td class="h">245</td><td><div class="c3">14</div><div class="c3">4</div></td><td></td><td></td><td></td><td></td><td><div>244</div><div>8</div></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map {{</td></tr>
<tr><td class="h">246</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; API::Instagram-&gt;instance-&gt;user( $_-&gt;{user} ),</td></tr>
<tr><td class="h">247</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position =&gt; $_-&gt;{position},</td></tr>
<tr><td class="h">248</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}} @$data</td></tr>
<tr><td class="h">249</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]</td></tr>
<tr><td class="h">250</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">};</td></tr>
<tr><td class="h">251</td><td colspan="7"></td></tr><tr><td class="h">252</td><td colspan="7"></td></tr><tr><td class="h">253</td><td></td><td></td><td></td><td></td><td></td><td></td><td class="s">1;</td></tr>
</table>
</body>
</html>
